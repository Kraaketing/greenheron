<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Sustainable web pages designed and developed with love and creativity in Portugal, for a greener web."/>
    <script type="application/ld+json">
      {{ structured-data | dump | safe }}
    </script>
    {% include "meta/open-graph.njk" %}
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/svg+xml" href="/logo.svg" />
    <title>{{ title }}</title>
    <link rel="stylesheet" href="/styles.css" />
    {% include "scripts/dark_mode_start.njk" %}
  </head>
  <body class="c-screen-height c-flex c-flex-center" id="top">
    <script>
      applyTheme(getCurrentTheme());
    </script>
    {% include "components/header.njk" %}
    <main class="c-flex c-flex-center">
      {% if content %}
      <section class="container-width-narrow | info" aria-label="Information">
        {{ content | safe }}
      </section>
      {% endif %} 
      
      {% if blocks %} 
        {% set needsParallax = false %}
        {% for block in blocks %} 
          {% if block.type == "hero" %} 
            {% include "blocks/hero.njk" %} 
          {% elif block.type == "intro" %}
            {% include "blocks/intro.njk" %} 
          {% elif block.type == "mountainwave" %}
            {% include "blocks/mountainwave.njk" %} 
            {% set needsParallax = true %}
          {% elif block.type == "testimonials" %} 
            {% include "blocks/testimonials.njk" %} 
          {% elif block.type == "contact-block" %} 
            {% include "blocks/contact-block.njk" %}
          {% elif block.type == "sent" %} 
            {% include "blocks/sent.njk" %} 
          {% endif %} 
        {% endfor %} 
      {% endif %}
    </main>
    {% include "components/footer.njk" %}
    {% include "scripts/dark_mode_end.njk" %}
    {% if needsParallax %}
      {% include "scripts/parallax.njk" %}
    {% endif %}  
</body>
</html>
